function WikiExplorerChild(e){var t=jQuery('li[data_p_id="'+e+'"]').sort(function(e,t){return jQuery(e).attr("data_order_id")-jQuery(t).attr("data_order_id")});if(t.length>0){for(var r=0;r<t.length;r++){var a=t.eq(r);a.append(WikiExplorerChild(a.attr("data_id")))}return jQuery('<ul class="items-list-'+e+'">').append(t)}}function WikiIndexChild(e){var t=jQuery('div[data-p-id="'+e+'"]').sort(function(e,t){return jQuery(e).attr("data-order-id")-jQuery(t).attr("data-order-id")});if(t.length>0){console.log("plop");for(var r=0;r<t.length;r++){var a=t.eq(r);a.append(WikiIndexChild(a.attr("data-id")))}return jQuery('<div class="overview-list-'+e+'" data-sub="'+e+'">').append(t)}}function show_anchor(e){jQuery(".show-anchor").addClass("active-anchor").children().html(e),setTimeout(()=>{jQuery(".show-anchor").removeClass("active-anchor")},3e3)}function sendSummaryMenu(){let e=jQuery("#menu-left"),t=jQuery("#menu-right");if(0!=e.length&&0!=title.length)jQuery("#sheet-summary").prependTo(e).addClass("cell-mini");else if(0==e.length&&0!=t.length&&0!=title.length)jQuery("#sheet-summary").prependTo(t).addClass("cell-mini");else if(0==e.length&&0==t.length&&0!=title.length){var r=jQuery("<aside/>",{id:"menu-left",class:"aside-menu"}).prependTo("#global-container");jQuery("#main").addClass("main-with-left"),jQuery("#sheet-summary").appendTo(r).addClass("cell-mini").css("position","sticky")}}function setSummarySticky(){var e=jQuery(".summary-sticky.cell-name"),t=jQuery(".summary-sticky.cell-list");e.prependTo(jQuery("body")),t.appendTo(jQuery("body")),e.addClass("blink"),jQuery(' <i class="fa fa-bars" aria-hidden="true"></i>').appendTo(e),e.on("click",function(){e.removeClass("blink"),t.toggleClass("open-summary")}),jQuery(document).on("mouseup",function(e){t.is(e.target)||0!==t.has(e.target).length||t.removeClass("open-summary")}),jQuery(".summary-title").on("click",function(){t.removeClass("open-summary")}),jQuery("#sheet-summary").remove()}jQuery("#category-nav").append(WikiExplorerChild(0)).find("ul:first").remove(),jQuery("#category-nav li").has("ul").addClass("has-children"),jQuery("#category-nav").find(".toggle-menu-button-0").removeClass("flex-between").css("display","none"),jQuery('#category-nav [class*="toggle-menu-button"] .list-item').each(function(){jQuery(this).on("click",function(){jQuery(this).toggleClass("is-open-menu"),jQuery(this).closest("li").children('[class*="items-list"]').toggleClass("show-list")})}),jQuery("#overview-nav").append(WikiIndexChild(0)).find("ul:first").remove();var title=jQuery(".content .formatter-title:not(span)");0==title.length&&jQuery("#sheet-summary").remove(),title.each(function(){var e=jQuery(this).text().replace(/[^a-zA-Z0-9]/gi,"-").toLowerCase();jQuery(this).attr("id",e);var t=jQuery(this).html(),r="",a="<span>&vdash;</span>";jQuery(this).is("h2")&&(r="0.618em",a='<i class="fa fa-circle smaller"></i> '),jQuery(this).is("h3")&&(r="1.618em"),jQuery(this).is("h4")&&(r="2.618em"),jQuery(this).is("h5")&&(r="3.618em"),jQuery(this).is("h6")&&(r="4.618em"),jQuery("#summary-list").append(jQuery('<li><a class="summary-title" href="#'+e+'" style="padding-left: '+r+'">'+a+'<span class="inner-title">'+t+"</span></a></li>"));var i=jQuery('<a href="'+window.location.href+"#"+e+'" class="smaller copy-anchor" aria-label="'+ARIA_TO_CLIPBOARD+'"><i class="fa fa-fw fa-hashtag" aria-hidden="true"></i></a>');jQuery(this).prepend(i)}),jQuery(".show-anchor").prependTo("body"),document.querySelectorAll(".copy-anchor").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();var r=e.getAttribute("href");document.addEventListener("copy",function(e){e.clipboardData.setData("text/plain",r),e.preventDefault()},!0),document.execCommand("copy"),show_anchor(COPIED_TO_CLIPBOARD+"<br /><br />"+r)})}),jQuery(".summary-title").on("click",function(){var e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top},"slow"),!1});